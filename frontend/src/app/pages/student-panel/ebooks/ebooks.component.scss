// ============================================
// Ebooks Component Styles
// ============================================

// Variables
$primary: #2D5F5D;
$primary-dark: #1e4442;
$primary-light: #3d7573;
$accent: #F6BD60;
$success: #10B981;
$warning: #F59E0B;
$error: #EF4444;
$info: #3B82F6;

// ============================================
// Confetti Animation
// ============================================
.confetti {
  position: absolute;
  width: 10px;
  height: 10px;
  background: $accent;
  animation: confetti-fall 3s linear infinite;
  
  &:nth-child(2n) { background: $primary; }
  &:nth-child(3n) { background: $success; }
  &:nth-child(4n) { background: $info; }
  &:nth-child(5n) { background: $error; }
}

@keyframes confetti-fall {
  0% {
    top: -10%;
    transform: translateX(0) rotateZ(0deg);
    opacity: 1;
  }
  100% {
    top: 100%;
    transform: translateX(100px) rotateZ(720deg);
    opacity: 0;
  }
}

// ============================================
// Carousel Smooth Transitions
// ============================================
// Carousel now uses inline transition-transform with manual control
// No keyframe animation needed

// ============================================
// Ebook Card Hover Effect for Favorite Button
// ============================================
.ebook-card-hover {
  .favorite-btn {
    opacity: 0;
    pointer-events: auto;
  }
  
  &:hover .favorite-btn {
    opacity: 1;
  }
}

// ============================================
// Book Spine (3D Shelf View)
// ============================================
.book-spine {
  perspective: 1000px;
  
  .book-container {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.5s ease;
    
    &:hover {
      transform: translateY(-8px);
    }
  }
  
  .book-spine-view {
    box-shadow: 
      2px 0 5px rgba(0, 0, 0, 0.2),
      inset -2px 0 3px rgba(0, 0, 0, 0.1);
  }
  
  .book-cover-view {
    box-shadow: 
      0 10px 30px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.1);
  }
}

// ============================================
// Fade In Animation
// ============================================
@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in-up {
  animation: fadeInUp 0.5s ease-out forwards;
}

// ============================================
// Modal Backdrop
// ============================================
.modal-backdrop {
  backdrop-filter: blur(4px);
  animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

// ============================================
// Review Modal
// ============================================
.review-modal {
  animation: slideUp 0.3s ease-out;
  
  .modal-content {
    max-height: 90vh;
    overflow-y: auto;
    
    // Custom scrollbar
    &::-webkit-scrollbar {
      width: 8px;
    }
    
    &::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }
    
    &::-webkit-scrollbar-thumb {
      background: $primary;
      border-radius: 10px;
      
      &:hover {
        background: $primary-dark;
      }
    }
  }
}

@keyframes slideUp {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// ============================================
// Star Rating Interactive
// ============================================
.star-rating {
  .star {
    cursor: pointer;
    transition: all 0.2s ease;
    
    &:hover {
      transform: scale(1.2);
    }
    
    &.filled {
      color: #FBBF24;
    }
    
    &.empty {
      color: #D1D5DB;
    }
  }
}

// ============================================
// Progress Bar
// ============================================
.progress-bar {
  position: relative;
  overflow: hidden;
  
  .progress-fill {
    transition: width 0.5s ease;
    background: linear-gradient(90deg, $success 0%, #34D399 100%);
    box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
  }
}

// ============================================
// Card Hover Effects
// ============================================
.ebook-card {
  transition: all 0.3s ease;
  
  &:hover {
    transform: translateY(-8px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    
    .ebook-cover {
      transform: scale(1.05);
    }
  }
  
  .ebook-cover {
    transition: transform 0.5s ease;
  }
}

// ============================================
// Badge Animations
// ============================================
.badge-new {
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

// ============================================
// Skeleton Loading
// ============================================
.skeleton {
  background: linear-gradient(
    90deg,
    #f0f0f0 25%,
    #e0e0e0 50%,
    #f0f0f0 75%
  );
  background-size: 200% 100%;
  animation: loading 1.5s infinite;
}

@keyframes loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

// ============================================
// Responsive Adjustments
// ============================================
@media (max-width: 768px) {
  .book-spine {
    .book-container {
      .book-cover-view {
        display: none;
      }
    }
  }
  
  .review-modal {
    .modal-content {
      max-height: 95vh;
    }
  }
}

// ============================================
// Utility Classes
// ============================================
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// ============================================
// Transitions
// ============================================
.transition-all {
  transition: all 0.3s ease;
}

.transition-colors {
  transition: color 0.3s ease, background-color 0.3s ease;
}

.transition-transform {
  transition: transform 0.3s ease;
}
