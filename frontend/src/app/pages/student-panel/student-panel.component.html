<div class="w-full">
  <!-- Welcome Header -->
  <div class="bg-gradient-to-r from-[#2D5757] to-[#3D3D60] rounded-xl p-6 mb-6 text-white">
    <div class="flex items-center justify-between">
      <div>
        <h1 class="text-2xl font-bold mb-1">
          Good Evening {{ currentUser.firstName }} {{ currentUser.lastName }}!
        </h1>
        <p class="text-gray-200 text-sm">Welcome back! It's time to study</p>
      </div>
      <img 
        [src]="currentUser.avatar" 
        alt="User" 
        class="w-16 h-16 rounded-full border-4 border-white/30 hidden md:block"
      />
    </div>
  </div>

  <!-- Stats Grid -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
    <div 
      *ngFor="let stat of stats"
      class="bg-white rounded-xl p-5 shadow-sm"
    >
      <div class="flex items-center justify-between mb-3">
        <span class="text-3xl">{{ stat.icon }}</span>
        <span 
          class="text-xs px-2 py-1 rounded-full font-medium"
          [ngClass]="{
            'bg-green-100 text-green-700': stat.changeType === 'up',
            'bg-amber-100 text-amber-700': stat.changeType === 'down'
          }"
        >
          {{ stat.change }}
        </span>
      </div>
      <h3 class="text-gray-600 text-sm mb-1">{{ stat.title }}</h3>
      <p class="text-2xl font-bold text-gray-900">{{ stat.value }}</p>
    </div>
  </div>

  <!-- Main Grid -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
    
    <!-- Left: Courses & Activity -->
    <div class="lg:col-span-2 space-y-6">
      
      <!-- My Courses -->
      <div>
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-xl font-bold text-gray-900">My Courses</h2>
          <a routerLink="/user-panel/courses" class="text-[#F59E0B] hover:text-[#e5ac4f] text-sm font-semibold">
            View All ‚Üí
          </a>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4">
          <div 
            *ngFor="let course of courses"
            class="bg-white rounded-xl shadow-sm overflow-hidden hover:shadow-md transition-shadow"
          >
            <!-- Course Header -->
            <div class="p-5" [ngClass]="course.color">
              <div class="flex items-center justify-between mb-3">
                <span class="text-3xl">{{ course.icon }}</span>
                <span class="px-2.5 py-1 bg-white rounded-full text-xs font-bold text-gray-700">
                  {{ course.progress }}%
                </span>
              </div>
              <h3 class="text-base font-bold text-gray-900 mb-1">{{ course.title }}</h3>
              <p class="text-sm text-gray-600">{{ course.instructor }}</p>
            </div>

            <!-- Course Body -->
            <div class="p-4 bg-white">
              <!-- Progress -->
              <div class="mb-3">
                <div class="flex justify-between text-xs text-gray-600 mb-1.5">
                  <span>Progress</span>
                  <span class="font-semibold">{{ course.progress }}% complete</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-1.5">
                  <div 
                    class="bg-gradient-to-r from-[#F59E0B] to-[#C84630] h-1.5 rounded-full"
                    [style.width.%]="course.progress"
                  ></div>
                </div>
              </div>

              <!-- Info -->
              <div class="flex items-center justify-between text-xs text-gray-600 mb-3">
                <span>üìö {{ course.lessons }} Lessons</span>
                <span>‚è±Ô∏è {{ course.duration }}</span>
              </div>

              <!-- Students -->
              <div class="flex items-center justify-between">
                <div class="flex -space-x-2">
                  <img 
                    *ngFor="let student of course.students.slice(0, 3)" 
                    [src]="student" 
                    alt="Student" 
                    class="w-7 h-7 rounded-full border-2 border-white"
                  />
                  <div class="w-7 h-7 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs font-semibold text-gray-600">
                    +5
                  </div>
                </div>
                <button class="px-3 py-1.5 bg-[#2D5757] text-white rounded-lg hover:bg-[#3D3D60] text-xs font-semibold">
                  Continue
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Activity & All Courses -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        
        <!-- Recent Activity -->
        <div class="bg-white rounded-xl p-5 shadow-sm">
          <h2 class="text-lg font-bold text-gray-900 mb-4">Recent Activity</h2>
          
          <div class="space-y-3">
            <div 
              *ngFor="let activity of activities.slice(0, 4)"
              class="flex items-center gap-3 p-2.5 hover:bg-gray-50 rounded-lg transition-colors"
            >
              <img 
                [src]="activity.avatar" 
                alt="{{ activity.studentName }}" 
                class="w-10 h-10 rounded-full flex-shrink-0"
              />
              <div class="flex-1 min-w-0">
                <p class="font-semibold text-gray-800 text-sm truncate">{{ activity.studentName }}</p>
                <p class="text-xs text-gray-500">{{ activity.type }}</p>
              </div>
              <div class="text-right flex-shrink-0">
                <p class="text-xs text-gray-500">{{ activity.date }}</p>
                <p class="text-xs text-gray-600 font-medium">{{ activity.grade }}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- All Courses -->
        <div class="bg-white rounded-xl p-5 shadow-sm">
          <h2 class="text-lg font-bold text-gray-900 mb-4">Courses</h2>
          
          <div class="space-y-3">
            <div 
              *ngFor="let course of courses"
              class="flex items-center gap-3 p-2.5 hover:bg-gray-50 rounded-lg transition-colors"
            >
              <div class="flex items-center justify-center w-10 h-10 rounded-lg flex-shrink-0" [ngClass]="course.color">
                <span class="text-xl">{{ course.icon }}</span>
              </div>
              
              <div class="flex-1 min-w-0">
                <p class="font-semibold text-gray-800 text-sm truncate">{{ course.title }}</p>
                <p class="text-xs text-gray-500">{{ course.instructor }}</p>
              </div>
              
              <div class="flex -space-x-1.5 flex-shrink-0">
                <img 
                  *ngFor="let student of course.students.slice(0, 2)" 
                  [src]="student" 
                  alt="Student" 
                  class="w-6 h-6 rounded-full border-2 border-white"
                />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right: Calendar & Upcoming -->
    <div class="space-y-6">
      
      <!-- Calendar -->
      <div class="bg-white rounded-xl p-5 shadow-sm">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-bold text-gray-900">Scheduled</h2>
          <div class="flex items-center gap-2 text-sm text-gray-600">
            <span class="font-medium">{{ currentMonth }}</span>
            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </div>
        </div>
        
        <!-- Days -->
        <div class="grid grid-cols-7 gap-1 text-center text-xs font-semibold text-gray-500 mb-2">
          <div>S</div>
          <div>M</div>
          <div>T</div>
          <div>W</div>
          <div>T</div>
          <div>F</div>
          <div>S</div>
        </div>
        
        <!-- Dates -->
        <div class="grid grid-cols-7 gap-1">
          <div 
            *ngFor="let day of calendarDays.slice(0, 35)"
            (click)="selectDate(day)"
            class="aspect-square flex items-center justify-center text-sm rounded-lg cursor-pointer transition-all"
            [ngClass]="{
              'bg-[#F59E0B] text-white font-bold': day === selectedDate,
              'hover:bg-gray-100 text-gray-700': day !== selectedDate
            }"
          >
            {{ day }}
          </div>
        </div>
      </div>

      <!-- Upcoming Classes -->
      <div class="bg-white rounded-xl p-5 shadow-sm">
        <h2 class="text-lg font-bold text-gray-900 mb-4">Upcoming Classes</h2>
        
        <div class="space-y-3">
          <div 
            *ngFor="let class of upcomingClasses.slice(0, 5)"
            class="flex items-center gap-3 p-2.5 hover:bg-gray-50 rounded-lg transition-colors"
          >
            <span class="text-sm font-semibold text-gray-600 w-12 flex-shrink-0">{{ class.time }}</span>
            
            <div class="flex items-center justify-center w-10 h-10 rounded-lg flex-shrink-0" [ngClass]="class.color">
              <span class="text-xl">{{ class.icon }}</span>
            </div>
            
            <div class="flex-1 min-w-0">
              <p class="font-semibold text-gray-800 text-sm truncate">{{ class.title }}</p>
              <p class="text-xs text-gray-500">{{ class.instructor }}</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
