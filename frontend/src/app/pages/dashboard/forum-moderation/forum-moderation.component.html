<div class="min-h-screen bg-gray-50 p-6">
  <!-- Header -->
  <div class="mb-6">
    <div class="flex items-center justify-between mb-4">
      <div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Forum Moderation</h1>
        <p class="text-gray-600">Manage categories, subcategories, and topics</p>
      </div>
      <button 
        (click)="loadCategories(); loadStats(); loadTopics()"
        class="px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2">
        <i class="fas fa-sync-alt"></i>
        <span>Refresh</span>
      </button>
    </div>

    <!-- Statistics -->
    <div *ngIf="stats && activeTab === 'topics'" class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-600">Total Topics</p>
            <p class="text-2xl font-bold text-gray-900">{{ stats.totalTopics }}</p>
          </div>
          <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
            <i class="fas fa-comments text-blue-600 text-xl"></i>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-600">Pinned</p>
            <p class="text-2xl font-bold text-blue-600">{{ stats.pinnedTopics }}</p>
          </div>
          <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
            <i class="fas fa-thumbtack text-blue-600 text-xl"></i>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-600">Locked</p>
            <p class="text-2xl font-bold text-red-600">{{ stats.lockedTopics }}</p>
          </div>
          <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center">
            <i class="fas fa-lock text-red-600 text-xl"></i>
          </div>
        </div>
      </div>

      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4">
        <div class="flex items-center justify-between">
          <div>
            <p class="text-sm text-gray-600">Normal</p>
            <p class="text-2xl font-bold text-green-600">{{ stats.normalTopics }}</p>
          </div>
          <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
            <i class="fas fa-check-circle text-green-600 text-xl"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Tabs -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-2 mb-4">
      <div class="flex gap-2">
        <button 
          (click)="switchTab('categories')"
          [class.bg-primary]="activeTab === 'categories'"
          [class.text-white]="activeTab === 'categories'"
          [class.text-gray-700]="activeTab !== 'categories'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2">
          <i class="fas fa-folder-tree"></i>
          <span>Categories</span>
        </button>
        <button 
          (click)="switchTab('subcategories')"
          [class.bg-primary]="activeTab === 'subcategories'"
          [class.text-white]="activeTab === 'subcategories'"
          [class.text-gray-700]="activeTab !== 'subcategories'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2">
          <i class="fas fa-folder-open"></i>
          <span>Subcategories</span>
        </button>
        <button 
          (click)="switchTab('topics')"
          [class.bg-primary]="activeTab === 'topics'"
          [class.text-white]="activeTab === 'topics'"
          [class.text-gray-700]="activeTab !== 'topics'"
          class="flex-1 px-4 py-3 rounded-lg font-medium transition-all flex items-center justify-center gap-2">
          <i class="fas fa-comments"></i>
          <span>Topics</span>
        </button>
      </div>
    </div>
  </div>

  <!-- CATEGORIES TAB -->
  <div *ngIf="activeTab === 'categories'">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-xl font-bold text-gray-900">All Categories</h2>
      <button 
        (click)="openNewCategoryModal()"
        class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-all flex items-center gap-2">
        <i class="fas fa-plus"></i>
        <span>New Category</span>
      </button>
    </div>

    <div *ngIf="loadingCategories" class="flex items-center justify-center py-20">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
    </div>

    <div *ngIf="!loadingCategories" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
      <div *ngFor="let category of categories" class="bg-white rounded-xl shadow-sm border border-gray-100 p-6 hover:shadow-md transition-all">
        <div class="flex items-start justify-between mb-4">
          <div class="flex items-center gap-3">
            <div class="w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center">
              <i [class]="'fas ' + category.icon + ' text-primary-600 text-xl'"></i>
            </div>
            <div>
              <h3 class="font-bold text-gray-900">{{ category.name }}</h3>
              <p class="text-sm text-gray-500">{{ getSubCategoryCount(category.id) }} subcategories</p>
            </div>
          </div>
          <span *ngIf="category.isLocked" class="px-2 py-1 bg-red-100 text-red-600 text-xs font-bold rounded">
            <i class="fas fa-lock"></i> LOCKED
          </span>
        </div>
        
        <p class="text-gray-600 text-sm mb-4">{{ category.description }}</p>
        
        <div class="flex items-center gap-2">
          <button 
            *ngIf="!category.isLocked"
            (click)="lockCategory(category)"
            class="flex-1 px-3 py-2 bg-orange-50 text-orange-600 rounded-lg hover:bg-orange-100 transition-all text-sm font-medium">
            <i class="fas fa-lock"></i> Lock
          </button>
          <button 
            *ngIf="category.isLocked"
            (click)="unlockCategory(category)"
            class="flex-1 px-3 py-2 bg-green-50 text-green-600 rounded-lg hover:bg-green-100 transition-all text-sm font-medium">
            <i class="fas fa-unlock"></i> Unlock
          </button>
          <button 
            (click)="deleteCategory(category)"
            class="flex-1 px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-all text-sm font-medium">
            <i class="fas fa-trash"></i> Delete
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- SUBCATEGORIES TAB -->
  <div *ngIf="activeTab === 'subcategories'">
    <div class="flex items-center justify-between mb-4">
      <h2 class="text-xl font-bold text-gray-900">All Subcategories</h2>
      <button 
        (click)="openNewSubCategoryModal()"
        class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-all flex items-center gap-2">
        <i class="fas fa-plus"></i>
        <span>New Subcategory</span>
      </button>
    </div>

    <!-- Filter by Category -->
    <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4">
      <label class="block text-sm font-medium text-gray-700 mb-2">Filter by Category</label>
      <select 
        [(ngModel)]="selectedCategoryForSubCat"
        (change)="filterSubCategories()"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
        <option [ngValue]="null">All Categories</option>
        <option *ngFor="let category of categories" [ngValue]="category.id">
          {{ category.name }}
        </option>
      </select>
    </div>

    <div *ngIf="loadingSubCategories" class="flex items-center justify-center py-20">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
    </div>

    <div *ngIf="!loadingSubCategories" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
      <table class="w-full">
        <thead class="bg-gray-50 border-b border-gray-200">
          <tr>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Name</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Category</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Description</th>
            <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
          <tr *ngFor="let subCat of filteredSubCategories" class="hover:bg-gray-50">
            <td class="px-4 py-4">
              <span class="font-medium text-gray-900">{{ subCat.name }}</span>
            </td>
            <td class="px-4 py-4">
              <span class="text-sm text-gray-600">{{ subCat.categoryName }}</span>
            </td>
            <td class="px-4 py-4">
              <span class="text-sm text-gray-600">{{ subCat.description }}</span>
            </td>
            <td class="px-4 py-4">
              <button 
                (click)="deleteSubCategory(subCat)"
                class="px-3 py-1 bg-red-50 text-red-600 rounded hover:bg-red-100 transition-all text-sm">
                <i class="fas fa-trash"></i> Delete
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- TOPICS TAB -->
  <div *ngIf="activeTab === 'topics'" class="flex gap-4">
    <!-- Topics List -->
    <div [ngClass]="{'w-full': !showTopicDetailsPanel, 'w-2/3': showTopicDetailsPanel}" class="transition-all">
      <!-- Filters -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Category</label>
            <select 
              [(ngModel)]="selectedCategoryId"
              (change)="onCategoryFilterChange()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
              <option [ngValue]="null">All Categories</option>
              <option *ngFor="let category of categories" [ngValue]="category.id">
                {{ category.name }}
              </option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Subcategory</label>
            <select 
              [(ngModel)]="selectedSubCategoryId"
              (change)="applyFilters()"
              [disabled]="!selectedCategoryId"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:opacity-50">
              <option [ngValue]="null">All Subcategories</option>
              <option *ngFor="let subCat of getSubCategoriesForSelectedCategory()" [ngValue]="subCat.id">
                {{ subCat.name }}
              </option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
            <select 
              [(ngModel)]="selectedStatus"
              (change)="applyFilters()"
              class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
              <option value="all">All Status</option>
              <option value="pinned">Pinned</option>
              <option value="locked">Locked</option>
              <option value="normal">Normal</option>
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-2">Search</label>
            <div class="flex gap-2">
              <input 
                type="text"
                [(ngModel)]="searchQuery"
                (keyup.enter)="applyFilters()"
                placeholder="Search..."
                class="flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
              <button 
                (click)="clearFilters()"
                class="px-3 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300">
                <i class="fas fa-times"></i>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Bulk Actions -->
      <div class="bg-white rounded-xl shadow-sm border border-gray-100 p-4 mb-4">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-4">
            <label class="flex items-center gap-2 cursor-pointer">
              <input 
                type="checkbox"
                [checked]="selectAll"
                (change)="toggleSelectAll()"
                class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
              <span class="text-sm font-medium text-gray-700">Select All</span>
            </label>
            <span *ngIf="getSelectedCount() > 0" class="text-sm text-gray-600">
              {{ getSelectedCount() }} selected
            </span>
          </div>

          <div class="flex items-center gap-2">
            <button 
              (click)="bulkPin()"
              [disabled]="getSelectedCount() === 0"
              class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-thumbtack"></i> Pin
            </button>
            <button 
              (click)="bulkUnpin()"
              [disabled]="getSelectedCount() === 0"
              class="px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-thumbtack fa-rotate-90"></i> Unpin
            </button>
            <button 
              (click)="bulkLock()"
              [disabled]="getSelectedCount() === 0"
              class="px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-lock"></i> Lock
            </button>
            <button 
              (click)="bulkUnlock()"
              [disabled]="getSelectedCount() === 0"
              class="px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-unlock"></i> Unlock
            </button>
            <button 
              (click)="bulkDelete()"
              [disabled]="getSelectedCount() === 0"
              class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-trash"></i> Delete
            </button>
          </div>
        </div>
      </div>

      <!-- Loading State -->
      <div *ngIf="loading" class="flex items-center justify-center py-20">
        <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
      </div>

      <!-- Topics Table -->
      <div *ngIf="!loading && !error" class="bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden">
        <table class="w-full">
          <thead class="bg-gray-50 border-b border-gray-200">
            <tr>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-12">Select</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-12">Status</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Topic</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Author</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Stats</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Created</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Actions</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-gray-200">
            <tr *ngFor="let topic of topics" class="hover:bg-gray-50 transition-colors">
              <td class="px-4 py-4">
                <input 
                  type="checkbox"
                  [checked]="isTopicSelected(topic.id)"
                  (change)="toggleTopicSelection(topic.id)"
                  class="w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary">
              </td>
              <td class="px-4 py-4">
                <div class="flex items-center gap-1">
                  <span *ngIf="topic.isPinned" class="text-blue-600" title="Pinned">
                    <i class="fas fa-thumbtack"></i>
                  </span>
                  <span *ngIf="topic.isLocked" class="text-red-600" title="Locked">
                    <i class="fas fa-lock"></i>
                  </span>
                </div>
              </td>
              <td class="px-4 py-4">
                <div>
                  <p class="font-medium text-gray-900">{{ topic.title }}</p>
                  <p class="text-sm text-gray-500 truncate max-w-md">{{ topic.content }}</p>
                </div>
              </td>
              <td class="px-4 py-4">
                <p class="text-sm text-gray-900">{{ topic.userName }}</p>
              </td>
              <td class="px-4 py-4">
                <div class="flex items-center gap-3 text-sm text-gray-600">
                  <span title="Views">
                    <i class="fas fa-eye"></i> {{ topic.viewsCount }}
                  </span>
                  <span title="Replies">
                    <i class="fas fa-comment"></i> {{ topic.postsCount }}
                  </span>
                </div>
              </td>
              <td class="px-4 py-4">
                <p class="text-sm text-gray-600">{{ getTimeAgo(topic.createdAt) }}</p>
              </td>
              <td class="px-4 py-4">
                <button 
                  (click)="viewTopicDetails(topic)"
                  class="px-3 py-1 bg-primary-50 text-primary-600 rounded hover:bg-primary-100 transition-all text-sm">
                  <i class="fas fa-eye"></i> View
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <!-- Pagination -->
        <div class="px-6 py-4 border-t border-gray-200 flex items-center justify-between">
          <div class="text-sm text-gray-600">
            Showing {{ currentPage * pageSize + 1 }} to {{ Math.min((currentPage + 1) * pageSize, totalElements) }} of {{ totalElements }} topics
          </div>
          <div class="flex items-center gap-2">
            <button 
              (click)="previousPage()"
              [disabled]="currentPage === 0"
              class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              <i class="fas fa-chevron-left"></i> Previous
            </button>
            <span class="text-sm text-gray-600">
              Page {{ currentPage + 1 }} of {{ totalPages }}
            </span>
            <button 
              (click)="nextPage()"
              [disabled]="currentPage >= totalPages - 1"
              class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
              Next <i class="fas fa-chevron-right"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Topic Details Panel -->
    <div *ngIf="showTopicDetailsPanel && selectedTopic" class="w-1/3 bg-white rounded-xl shadow-sm border border-gray-100 p-6 sticky top-6 max-h-[calc(100vh-8rem)] overflow-y-auto">
      <div class="flex items-center justify-between mb-4">
        <h3 class="text-lg font-bold text-gray-900">Topic Details</h3>
        <button 
          (click)="closeTopicDetailsPanel()"
          class="text-gray-500 hover:text-gray-700">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <div class="space-y-4">
        <div>
          <h4 class="font-bold text-gray-900 mb-2">{{ selectedTopic.title }}</h4>
          <p class="text-sm text-gray-600">{{ selectedTopic.content }}</p>
        </div>

        <div class="grid grid-cols-2 gap-4 py-4 border-y border-gray-200">
          <div>
            <p class="text-xs text-gray-500">Views</p>
            <p class="text-lg font-bold text-gray-900">{{ selectedTopic.viewsCount }}</p>
          </div>
          <div>
            <p class="text-xs text-gray-500">Replies</p>
            <p class="text-lg font-bold text-gray-900">{{ selectedTopic.postsCount }}</p>
          </div>
        </div>

        <div>
          <h5 class="font-semibold text-gray-900 mb-3 flex items-center gap-2">
            <i class="fas fa-users"></i>
            Participants ({{ topicParticipants.length }})
          </h5>
          
          <div *ngIf="loadingTopicDetails" class="flex items-center justify-center py-8">
            <div class="animate-spin rounded-full h-8 w-8 border-b-2 border-primary"></div>
          </div>

          <div *ngIf="!loadingTopicDetails" class="space-y-2">
            <div *ngFor="let participant of topicParticipants" class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full bg-primary text-white flex items-center justify-center font-semibold">
                  {{ participant.userName.charAt(0).toUpperCase() }}
                </div>
                <div>
                  <p class="font-medium text-gray-900 flex items-center gap-2">
                    {{ participant.userName }}
                    <span *ngIf="participant.isAuthor" class="px-2 py-0.5 bg-blue-100 text-blue-600 text-xs font-bold rounded">
                      AUTHOR
                    </span>
                  </p>
                  <p class="text-xs text-gray-500">{{ participant.postsCount }} post(s)</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- New Category Modal -->
<div *ngIf="showNewCategoryModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-md">
    <div class="p-6 border-b border-gray-200">
      <h2 class="text-xl font-bold text-gray-900">Create New Category</h2>
    </div>
    <div class="p-6 space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Name *</label>
        <input 
          type="text"
          [(ngModel)]="newCategory.name"
          placeholder="e.g., General Discussion"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Description *</label>
        <textarea 
          [(ngModel)]="newCategory.description"
          placeholder="Describe this category..."
          rows="3"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Icon</label>
        <input 
          type="text"
          [(ngModel)]="newCategory.icon"
          placeholder="fa-folder"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
      </div>
    </div>
    <div class="p-6 border-t border-gray-200 flex items-center justify-end gap-3">
      <button 
        (click)="closeNewCategoryModal()"
        class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all">
        Cancel
      </button>
      <button 
        (click)="submitNewCategory()"
        [disabled]="!newCategory.name.trim() || !newCategory.description.trim()"
        class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
        Create Category
      </button>
    </div>
  </div>
</div>

<!-- New SubCategory Modal -->
<div *ngIf="showNewSubCategoryModal" class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50">
  <div class="bg-white rounded-2xl shadow-xl w-full max-w-md">
    <div class="p-6 border-b border-gray-200">
      <h2 class="text-xl font-bold text-gray-900">Create New Subcategory</h2>
    </div>
    <div class="p-6 space-y-4">
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Parent Category *</label>
        <select 
          [(ngModel)]="newSubCategory.categoryId"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
          <option [ngValue]="0">Select a category</option>
          <option *ngFor="let category of categories" [ngValue]="category.id">
            {{ category.name }}
          </option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Name *</label>
        <input 
          type="text"
          [(ngModel)]="newSubCategory.name"
          placeholder="e.g., Announcements"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
      </div>
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-2">Description *</label>
        <textarea 
          [(ngModel)]="newSubCategory.description"
          placeholder="Describe this subcategory..."
          rows="3"
          class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
      </div>
    </div>
    <div class="p-6 border-t border-gray-200 flex items-center justify-end gap-3">
      <button 
        (click)="closeNewSubCategoryModal()"
        class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-all">
        Cancel
      </button>
      <button 
        (click)="submitNewSubCategory()"
        [disabled]="!newSubCategory.categoryId || !newSubCategory.name.trim() || !newSubCategory.description.trim()"
        class="px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary-600 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
        Create Subcategory
      </button>
    </div>
  </div>
</div>
